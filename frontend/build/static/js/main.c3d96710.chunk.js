(this["webpackJsonpreact-ts-tic-tac-toe"]=this["webpackJsonpreact-ts-tic-tac-toe"]||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),o=a(32),n=a.n(o),c=a(8),i=a(17),d=a(10),l=a(11),h=a(13),b=a(12),p=a(2),u=a(14),j=a.n(u),x=a(18),k=a(16),m=a.n(k),O=a(0),N=function(e){return Object(O.jsx)("button",{className:e.darkMode?"board__box board__box-dark":"board__box",onClick:e.onClick,children:e.value})},y=a(34);function v(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var r=Object(y.a)(t[a],3),s=r[0],o=r[1],n=r[2];if(e[s]&&e[s]===e[o]&&e[s]===e[n])return e[s]}return null}function _(e){var t=0;return e.forEach((function(e){null!==e&&t++})),9===t}var f=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).handleBoardRestart=function(){r.setState({boxes:Array(9).fill(null),history:[],xIsNext:!0})},r.state={boxes:Array(9).fill(null),history:[],playerOneName:r.props.state.playerOneName,playerTwoName:r.props.state.playerTwoName,xIsNext:!0},r}return Object(l.a)(a,[{key:"handleBoxClick",value:function(e){var t=this.state.boxes.slice(),a=this.state.history;v(t)||t[e]||!0!==_(t)&&(t[e]=this.state.xIsNext?"x":"o",a.push(this.state.xIsNext?this.state.playerOneName:this.state.playerTwoName),this.setState({boxes:t,history:a,xIsNext:!this.state.xIsNext}))}},{key:"componentDidMount",value:function(){var e=Object(x.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(this.state.boxes);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=v(this.state.boxes),r=_(this.state.boxes);return a?(console.log(9),e="The winner is: ".concat("x"===a?this.state.playerOneName:this.state.playerTwoName,"!"),m.a.post("http://localhost:8000/api/historys/",{title:"".concat("x"===a?this.state.playerOneName:this.state.playerTwoName," won"),text:""})):!a&&r?(e="Game drawn!",m.a.post("http://localhost:8000/api/historys/",{title:"Game drawn",text:""})):e="It is ".concat(this.state.xIsNext?this.state.playerOneName:this.state.playerTwoName,"'s turn."),Object(O.jsxs)("div",{className:this.props.darkMode?"view view-dark":"view view--board",children:[Object(O.jsx)(c.b,{to:"/",className:this.props.darkMode?"board-back-link-dark board-back-link":"board-back-link",children:"Go back to scoreboard"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",onChange:this.props.onDarkModeToggle,checked:this.props.darkMode}),Object(O.jsx)("span",{className:"slider"})]}),Object(O.jsxs)("div",{className:"board-wrapper",children:[Object(O.jsxs)("div",{className:"board",children:[Object(O.jsx)("h2",{className:this.props.darkMode?"board-heading board-heading-dark":"board-heading",children:e}),Object(O.jsxs)("div",{className:"board-row",children:[Object(O.jsx)(N,{value:this.state.boxes[0],onClick:function(){return t.handleBoxClick(0)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[1],onClick:function(){return t.handleBoxClick(1)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[2],onClick:function(){return t.handleBoxClick(2)},darkMode:this.props.darkMode})]}),Object(O.jsxs)("div",{className:"board-row",children:[Object(O.jsx)(N,{value:this.state.boxes[3],onClick:function(){return t.handleBoxClick(3)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[4],onClick:function(){return t.handleBoxClick(4)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[5],onClick:function(){return t.handleBoxClick(5)},darkMode:this.props.darkMode})]}),Object(O.jsxs)("div",{className:"board-row",children:[Object(O.jsx)(N,{value:this.state.boxes[6],onClick:function(){return t.handleBoxClick(6)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[7],onClick:function(){return t.handleBoxClick(7)},darkMode:this.props.darkMode}),Object(O.jsx)(N,{value:this.state.boxes[8],onClick:function(){return t.handleBoxClick(8)},darkMode:this.props.darkMode})]})]}),Object(O.jsxs)("div",{className:"board-history",children:[Object(O.jsx)("h2",{className:this.props.darkMode?"board-heading board-heading-dark":"board-heading",children:"Moves history:"}),Object(O.jsxs)("ul",{className:this.props.darkMode?"board-history-list board-history-list-dark":"board-history-list",children:[0===this.state.history.length&&Object(O.jsx)("span",{children:"No moves to show."}),0!==this.state.history.length&&this.state.history.map((function(e,t){return Object(O.jsxs)("li",{children:["Move ",t+1,": ",Object(O.jsx)("strong",{children:e})]},t)}))]})]}),a&&Object(O.jsx)("button",{className:"board__btn btn",onClick:this.handleBoardRestart,children:"Start new game"}),!a&&r&&Object(O.jsx)("button",{className:"board__btn btn",onClick:this.handleBoardRestart,children:"Start new game"})]})]})}}]),a}(s.a.Component),g=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).refreshList=function(){m.a.get("http://localhost:8000/api/historys").then((function(e){Promise.all(e.data.map((function(e){return e.title}))).then((function(e){r.setState({scoreboard:e})}))})).catch((function(e){return console.error(e)}))},r.handleInputChange=function(e){e.preventDefault();var t=e.target.dataset.name,a=e.target.value;r.setState(Object(i.a)({},t,a)),r.props.nameChangeHandler(t,a)},r.handleNameValidation=function(e){0!==r.state.playerOneName.length&&0!==r.state.playerTwoName.length||e.preventDefault()},r.state={playerOneName:r.props.state.playerOneName,playerTwoName:r.props.state.playerTwoName,scoreboard:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.refreshList();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)("div",{className:this.props.darkMode?"view view-dark":"view view--scoreboard",children:[Object(O.jsx)("h1",{className:this.props.darkMode?"scoreboard__title scoreboard__title-dark":"scoreboard__title",children:"Welcome to Jedah"}),Object(O.jsxs)("label",{className:"switch",children:[Object(O.jsx)("input",{type:"checkbox",onChange:this.props.onDarkModeToggle,checked:this.props.darkMode}),Object(O.jsx)("span",{className:"slider"})]}),Object(O.jsx)("h2",{className:this.props.darkMode?"scoreboard__subtitle scoreboard__subtitle-dark":"scoreboard__subtitle",children:"Would you like to play a game?"}),Object(O.jsxs)("div",{className:"scoreboard__names",children:[Object(O.jsxs)("div",{className:this.props.darkMode?"scoreboard__name-box scoreboard__name-box-dark":"scoreboard__name-box",children:[Object(O.jsx)("label",{htmlFor:"playerOneName",children:"Player one name (x):"}),Object(O.jsx)("input",{id:"playerOneName",className:this.props.darkMode?"scoreboard__input scoreboard__input-dark":"scoreboard__input",type:"text",value:this.state.playerOneName,onChange:this.handleInputChange,"data-name":"playerOneName"})]}),Object(O.jsxs)("div",{className:this.props.darkMode?"scoreboard__name-box scoreboard__name-box-dark":"scoreboard__name-box",children:[Object(O.jsx)("label",{htmlFor:"playerTwoName",children:"Player two name (o):"}),Object(O.jsx)("input",{id:"playerTwoName",className:this.props.darkMode?"scoreboard__input scoreboard__input-dark":"scoreboard__input",type:"text",value:this.state.playerTwoName,onChange:this.handleInputChange,"data-name":"playerTwoName"})]})]}),Object(O.jsx)(c.b,{to:"/board",onClick:this.handleNameValidation,className:"scoreboard__btn btn",children:"Start new game"}),Object(O.jsx)("h2",{className:this.props.darkMode?"scoreboard__subtitle scoreboard__subtitle-dark":"scoreboard__subtitle",children:"Recent games:"}),0===this.state.scoreboard.length&&Object(O.jsx)("p",{className:this.props.darkMode?"p-dark":"",children:"There are no previous games to show."}),0!==this.state.scoreboard.length&&Object(O.jsx)("ul",{className:this.props.darkMode?"scoreboard__list scoreboard__list-dark":"scoreboard__list",children:this.state.scoreboard.map((function(e,t){return Object(O.jsxs)("li",{children:["- ",e]},t)}))})]})}}]),a}(s.a.Component),M=(a(64),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={playerOneName:"x",playerTwoName:"o",darkMode:!!localStorage.getItem("darkmode")&&JSON.parse(localStorage.getItem("darkmode"))},e.handlePlayerNameChange=function(t,a){e.setState(Object(i.a)({},t,a))},e.handleDarkModeToggle=function(){var t=!e.state.darkMode;localStorage.setItem("darkmode",JSON.stringify(t)),e.setState({darkMode:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(p.a,{exact:!0,path:"/",render:function(){return Object(O.jsx)(g,{state:e.state,nameChangeHandler:e.handlePlayerNameChange,onDarkModeToggle:e.handleDarkModeToggle,darkMode:e.state.darkMode})}}),Object(O.jsx)(p.a,{path:"/board",render:function(){return Object(O.jsx)(f,{state:e.state,nameChangeHandler:e.handlePlayerNameChange,onDarkModeToggle:e.handleDarkModeToggle,darkMode:e.state.darkMode})}})]})}}]),a}(s.a.Component));n.a.render(Object(O.jsx)(c.a,{children:Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(M,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.c3d96710.chunk.js.map